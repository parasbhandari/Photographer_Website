<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photographer Sign Up</title>
    <link href="../_css/output.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.all.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.5/dist/sweetalert2.min.css">
    <style>
        /* Form step styling */
        .form-step {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }
        .form-step.active {
            display: block;
        }
        .step-indicator {
            position: relative;
            padding-bottom: 1rem;
        }
        .step-indicator.active {
            color: #FF6F00;
        }
        .step-indicator.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50%;
            height: 3px;
            background-color: #FF6F00;
            border-radius: 3px;
        }
        .step-indicator.completed {
            color: #10b981;
        }
        .step-indicator.completed::after {
            background-color: #10b981;
        }

        /* File upload preview styling */
        #previewContainer {
            display: none;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        #previewContainer.show {
            display: grid;
        }
        .preview-item {
            position: relative;
            height: 150px;
            border-radius: 0.5rem;
            overflow: hidden;
            border: 1px solid #e5e7eb;
            transition: transform 0.2s;
        }
        .preview-item:hover {
            transform: scale(1.03);
        }
        .preview-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .remove-btn {
            position: absolute;
            top: 0.25rem;
            right: 0.25rem;
            background-color: #ef4444;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.2s;
        }
        .preview-item:hover .remove-btn {
            opacity: 1;
        }

        /* Dropzone styling */
        #dropzone {
            border: 2px dashed #d1d5db;
            border-radius: 0.5rem;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        #dropzone:hover {
            border-color: #3b82f6;
            background-color: #f8fafc;
        }
        #dropzone.dragover {
            border-color: #3b82f6;
            background-color: #e0e7ff;
        }
        
        /* Button styling */
        .form-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            border-radius: 0.5rem;
            transition: all 0.2s;
            min-width: 120px;
        }
        
        .next-btn {
            background-color: #FF6F00;
            color: white;
        }
        
        .next-btn:hover {
            background-color: #E65100;
        }
        
        .prev-btn {
            background-color: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }
        
        .prev-btn:hover {
            background-color: #e5e7eb;
        }
        
        .submit-btn {
            background-color: #10b981;
            color: white;
        }
        
        .submit-btn:hover {
            background-color: #0d9c6e;
        }
        
        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 6px;
            background-color: #e5e7eb;
            border-radius: 3px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #FF6F00;
            transition: width 0.3s ease;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Character counter */
        .char-counter {
            text-align: right;
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.25rem;
        }
        
        /* Error styling */
        .error-message {
            color: #ef4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        
        .has-error {
            border-color: #ef4444 !important;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header-component></header-component>
   
    <main class="my-10">
        <!-- Hero Section -->
        <div class="relative">
            <img src="../assets/images/photographer.png" alt="Photographer at work"
                class="w-full h-48 sm:h-64 md:h-80 lg:h-[500px] object-cover brightness-50" />
            <div class="absolute inset-0 flex flex-col justify-center items-center text-white px-4 text-center">
                <h1 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-[#FF6F00]">JOIN OUR PHOTOGRAPHER NETWORK</h1>
                <p class="mt-2 text-base sm:text-lg md:text-xl max-w-2xl px-4">Showcase your talent and connect with clients worldwide</p>
            </div>
        </div>

        <!-- Form Container -->
        <div class="container mx-auto px-4 py-8 max-w-4xl">
            <div class="bg-white rounded-lg shadow-lg overflow-hidden border border-orange-200 p-2">
                <!-- Progress Bar -->
                <div class="progress-container">
                    <div id="progressBar" class="progress-bar" style="width: 33%"></div>
                </div>
                
                <!-- Progress Steps -->
                <div class="flex border-b">
                    <div id="step1-indicator" class="step-indicator active flex-1 py-4 text-center font-medium">
                        <span class="hidden sm:inline">Step 1:</span> Personal Info
                    </div>
                    <div id="step2-indicator" class="step-indicator flex-1 py-4 text-center font-medium text-gray-500">
                        <span class="hidden sm:inline">Step 2:</span> Skills & Experience
                    </div>
                    <div id="step3-indicator" class="step-indicator flex-1 py-4 text-center font-medium text-gray-500">
                        <span class="hidden sm:inline">Step 3:</span> Portfolio
                    </div>
                </div>

                <!-- Form Steps -->
                <div class="p-6 sm:p-8">
                    <!-- Step 1: Personal Details -->
                    <form id="photographer-form" class="space-y-6" novalidate>
                        <div id="formStep1" class="form-step active">
                            <h2 class="text-2xl font-bold mb-6 text-[#FF6F00]">Personal Information</h2>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="fullName">Full Name</label>
                                    <input type="text" id="fullName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" maxlength="50" placeholder="Enter your full name" required>
                                    <p class="error-message" id="fullName-error">Please enter your full name</p>
                                    <div class="char-counter"><span id="fullName-counter">0</span>/50</div>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="country">Country</label>
                                    <input type="text" id="country" class="w-full px-4 py-3 rounded-lg border border-gray-300 bg-gray-100 cursor-not-allowed" value="Nepal" readonly>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="city">City</label>
                                    <select id="city" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" required>
                                        <option value="">Select your city</option>
                                        <option value="kathmandu">Kathmandu</option>
                                        <option value="pokhara">Pokhara</option>
                                        <option value="lalitpur">Lalitpur</option>
                                        <option value="bhaktapur">Bhaktapur</option>
                                        <option value="biratnagar">Biratnagar</option>
                                        <option value="birgunj">Birgunj</option>
                                        <option value="butwal">Butwal</option>
                                        <option value="dharan">Dharan</option>
                                        <option value="nepalgunj">Nepalgunj</option>
                                        <option value="other">Other</option>
                                    </select>
                                    <p class="error-message" id="city-error">Please select your city</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="mobile">Mobile Number</label>
                                    <div class="flex">
                                        <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-100 text-gray-700">+977</span>
                                        <input type="tel" id="mobile" class="w-full px-4 py-3 border border-gray-300 rounded-r-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="98xxxxxxxx" pattern="[0-9]{9,10}" required>
                                    </div>
                                    <p class="text-xs text-gray-500 mt-1">Enter 9-10 digit mobile number without spaces/symbols</p>
                                    <p class="error-message" id="mobile-error">Please enter a valid mobile number</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="email">Email Address</label>
                                    <input type="email" id="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="your@email.com" required>
                                    <p class="error-message" id="email-error">Please enter a valid email address</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="social">Social Media</label>
                                    <input type="url" id="social" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="https://instagram.com/yourprofile">
                                    <p class="error-message" id="social-error">Please enter a valid URL</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="state">State/Province</label>
                                    <select id="state" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" required>
                                        <option value="">Select your state</option>
                                        <option value="province1">Province 1</option>
                                        <option value="province2">Province 2</option>
                                        <option value="bagmati">Bagmati</option>
                                        <option value="gandaki">Gandaki</option>
                                        <option value="lumbini">Lumbini</option>
                                        <option value="karnali">Karnali</option>
                                        <option value="sudurpaschim">Sudurpaschim</option>
                                    </select>
                                    <p class="error-message" id="state-error">Please select your state</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="nearbyCities">Nearby Cities You Can Work In</label>
                                    <input type="text" id="nearbyCities" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="Cities separated by commas">
                                </div>
                                
                                <div class="md:col-span-2">
                                    <label class="block text-gray-700 mb-2 font-medium" for="portfolio">Portfolio/Website</label>
                                    <input type="url" id="portfolio" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="https://yourportfolio.com">
                                    <p class="error-message" id="portfolio-error">Please enter a valid URL</p>
                                </div>
                            </div>
                            
                            <div class="mt-8 flex justify-end">
                                <button type="button" id="step1-next" class="form-btn next-btn">
                                    Next <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 2: Skill Details -->
                        <div id="formStep2" class="form-step">
                            <h2 class="text-2xl font-bold mb-6 text-[#FF6F00]">Skills & Experience</h2>
                            
                            <div class="mb-6">
                                <label class="block text-gray-700 mb-3 font-medium">Photography Specializations</label>
                                <p class="error-message mb-2" id="skills-error">Please select at least one specialization</p>
                                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3">
                                    <div class="flex items-center">
                                        <input type="checkbox" id="candid" name="skills" value="candid" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="candid">Candid Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="food" name="skills" value="food" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="food">Food Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="landscape" name="skills" value="landscape" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="landscape">Landscape Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="fashion" name="skills" value="fashion" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="fashion">Fashion Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="wedding" name="skills" value="wedding" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="wedding">Wedding Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="portrait" name="skills" value="portrait" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="portrait">Portrait Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="wildlife" name="skills" value="wildlife" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="wildlife">Wildlife Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="corporate" name="skills" value="corporate" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="corporate">Corporate Photography</label>
                                    </div>
                                    <div class="flex items-center">
                                        <input type="checkbox" id="product" name="skills" value="product" class="mr-2 h-5 w-5 rounded border-gray-300 text-orange-600 focus:ring-orange-500">
                                        <label for="product">Product Photography</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="skillLevel">Skill Level</label>
                                    <select id="skillLevel" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" required>
                                        <option value="">Select your skill level</option>
                                        <option value="beginner">Beginner (0-1 years)</option>
                                        <option value="intermediate">Intermediate (1-3 years)</option>
                                        <option value="advanced">Advanced (3-5 years)</option>
                                        <option value="professional">Professional (5+ years)</option>
                                    </select>
                                    <p class="error-message" id="skillLevel-error">Please select your skill level</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="experience">Years of Experience</label>
                                    <select id="experience" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" required>
                                        <option value="">Select your experience</option>
                                        <option value="0-1">0-1 years</option>
                                        <option value="1-3">1-3 years</option>
                                        <option value="3-5">3-5 years</option>
                                        <option value="5+">5+ years</option>
                                    </select>
                                    <p class="error-message" id="experience-error">Please select your experience</p>
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="camera">Camera Equipment</label>
                                    <input type="text" id="camera" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="Eg: Canon EOS R5, 24-70mm f/2.8">
                                </div>
                                
                                <div>
                                    <label class="block text-gray-700 mb-2 font-medium" for="equipment">Other Equipment</label>
                                    <input type="text" id="equipment" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" placeholder="Eg: Adobe Lightroom, Tripod, Flash">
                                </div>
                                
                                <div class="md:col-span-2">
                                    <label class="block text-gray-700 mb-2 font-medium" for="bio">About You</label>
                                    <textarea id="bio" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent" rows="4" maxlength="500" placeholder="Tell us about your photography style and experience"></textarea>
                                    <div class="char-counter"><span id="bio-counter">0</span>/500</div>
                                </div>
                            </div>
                            
                            <div class="mt-8 flex justify-between">
                                <button type="button" id="step2-prev" class="form-btn prev-btn">
                                    <i class="fas fa-arrow-left mr-2"></i> Previous
                                </button>
                                <button type="button" id="step2-next" class="form-btn next-btn">
                                    Next <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Step 3: Photo Submission -->
                        <div id="formStep3" class="form-step">
                            <h2 class="text-2xl font-bold mb-6 text-[#FF6F00]">Portfolio Showcase</h2>
                            
                            <div class="mb-6">
                                <label class="block text-gray-700 mb-3 font-medium">Upload Your Best Work (3-10 photos)</label>
                                <p class="error-message mb-2" id="photos-error">Please upload at least 3 photos (max 10MB each)</p>
                                <div id="dropzone" class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center cursor-pointer transition">
                                    <div class="flex flex-col items-center justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                                        </svg>
                                        <p class="mt-2 text-sm text-gray-600">Drag and drop your photos here, or click to browse</p>
                                        <button type="button" id="uploadBtn" class="mt-2 bg-orange-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-orange-700 transition">Select Files</button>
                                        <input type="file" id="fileInput" class="hidden" multiple accept="image/*">
                                        <p class="mt-2 text-xs text-gray-500">JPEG or PNG, max 10MB per file</p>
                                    </div>
                                </div>
                                <div id="previewContainer" class="mt-4">
                                    <!-- Preview images will be added here -->
                                </div>
                            </div>
                            
                            <div class="mt-8 flex justify-between">
                                <button type="button" id="step3-prev" class="form-btn prev-btn">
                                    <i class="fas fa-arrow-left mr-2"></i> Previous
                                </button>
                                <button type="submit" id="submit-btn" class="form-btn submit-btn">
                                    <i class="fas fa-check-circle mr-2"></i> Submit Application
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <footer-component></footer-component>
    
    <script>
        // Form navigation and validation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize variables
            let currentStep = 1;
            const totalSteps = 3;
            let uploadedFiles = [];
            let isSubmitting = false;
            
            // Get DOM elements
            const form = document.getElementById('photographer-form');
            const dropzone = document.getElementById('dropzone');
            const fileInput = document.getElementById('fileInput');
            const uploadBtn = document.getElementById('uploadBtn');
            const previewContainer = document.getElementById('previewContainer');
            const progressBar = document.getElementById('progressBar');
            
            // Navigation buttons
            const step1NextBtn = document.getElementById('step1-next');
            const step2PrevBtn = document.getElementById('step2-prev');
            const step2NextBtn = document.getElementById('step2-next');
            const step3PrevBtn = document.getElementById('step3-prev');
            const submitBtn = document.getElementById('submit-btn');
            
            // Character counters
            const fullNameCounter = document.getElementById('fullName-counter');
            const bioCounter = document.getElementById('bio-counter');
            
            // Initialize the form
            updateStepIndicator();
            setupEventListeners();
            
            function setupEventListeners() {
                // Navigation buttons
                if (step1NextBtn) step1NextBtn.addEventListener('click', nextStep);
                if (step2PrevBtn) step2PrevBtn.addEventListener('click', prevStep);
                if (step2NextBtn) step2NextBtn.addEventListener('click', nextStep);
                if (step3PrevBtn) step3PrevBtn.addEventListener('click', prevStep);
                
                // File upload
                if (dropzone) dropzone.addEventListener('click', () => fileInput.click());
                if (uploadBtn) uploadBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    fileInput.click();
                });
                if (fileInput) fileInput.addEventListener('change', handleFileSelect);
                
                // Drag and drop
                if (dropzone) {
                    dropzone.addEventListener('dragover', handleDragOver);
                    dropzone.addEventListener('dragleave', handleDragLeave);
                    dropzone.addEventListener('drop', handleDrop);
                }
                
                // Character counters
                if (fullNameCounter) {
                    document.getElementById('fullName').addEventListener('input', function() {
                        fullNameCounter.textContent = this.value.length;
                    });
                }
                
                if (bioCounter) {
                    document.getElementById('bio').addEventListener('input', function() {
                        bioCounter.textContent = this.value.length;
                    });
                }
                
                // Form submission
                if (form) form.addEventListener('submit', handleFormSubmit);
                
                // Clear errors when fields are edited
                document.querySelectorAll('input, select, textarea').forEach(element => {
                    element.addEventListener('input', clearFieldError);
                    element.addEventListener('change', clearFieldError);
                });
                
                // For checkboxes (skills)
                document.querySelectorAll('input[name="skills"]').forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        if (this.checked) {
                            document.getElementById('skills-error').style.display = 'none';
                        }
                    });
                });
            }
            
            function updateStepIndicator() {
                // Update progress bar
                const progressPercentage = (currentStep / totalSteps) * 100;
                progressBar.style.width = `${progressPercentage}%`;
                
                // Update step indicators
                for (let i = 1; i <= totalSteps; i++) {
                    const indicator = document.getElementById(`step${i}-indicator`);
                    if (!indicator) continue;
                    
                    if (i === currentStep) {
                        indicator.classList.add('active');
                        indicator.classList.remove('completed', 'text-gray-500');
                    } else if (i < currentStep) {
                        indicator.classList.add('completed');
                        indicator.classList.remove('active', 'text-gray-500');
                    } else {
                        indicator.classList.add('text-gray-500');
                        indicator.classList.remove('active', 'completed');
                    }
                }
                
                // Show/hide form steps
                document.querySelectorAll('.form-step').forEach((step, index) => {
                    if (index + 1 === currentStep) {
                        step.classList.add('active');
                    } else {
                        step.classList.remove('active');
                    }
                });
            }
            
            function nextStep() {
                if (validateStep(currentStep)) {
                    if (currentStep < totalSteps) {
                        currentStep++;
                        updateStepIndicator();
                        scrollToActiveStep();
                    }
                }
            }
            
            function prevStep() {
                if (currentStep > 1) {
                    currentStep--;
                    updateStepIndicator();
                    scrollToActiveStep();
                }
            }
            
            function scrollToActiveStep() {
                const activeStep = document.querySelector('.form-step.active');
                if (activeStep) {
                    activeStep.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
            
            function validateStep(step) {
                let isValid = true;
                
                if (step === 1) {
                    // Validate personal details
                    const requiredFields = [
                        { id: 'fullName', message: 'Please enter your full name' },
                        { id: 'city', message: 'Please select your city' },
                        { id: 'mobile', message: 'Please enter a valid mobile number', 
                          validate: (value) => /^\d{9,10}$/.test(value) },
                        { id: 'email', message: 'Please enter a valid email address', 
                          validate: (value) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value) },
                        { id: 'state', message: 'Please select your state' }
                    ];
                    
                    requiredFields.forEach(field => {
                        const element = document.getElementById(field.id);
                        const errorElement = document.getElementById(`${field.id}-error`);
                        
                        if (!element) return;
                        
                        let fieldValid = true;
                        if (field.validate) {
                            fieldValid = element.value && field.validate(element.value);
                        } else {
                            fieldValid = element.value && element.value.trim() !== '';
                        }
                        
                        if (!fieldValid) {
                            element.classList.add('has-error');
                            errorElement.textContent = field.message;
                            errorElement.style.display = 'block';
                            isValid = false;
                        } else {
                            element.classList.remove('has-error');
                            errorElement.style.display = 'none';
                        }
                    });
                    
                    // Validate social media URL if provided
                    const socialElement = document.getElementById('social');
                    if (socialElement && socialElement.value && !isValidUrl(socialElement.value)) {
                        showError('social', 'Please enter a valid URL');
                        isValid = false;
                    }
                    
                    // Validate portfolio URL if provided
                    const portfolioElement = document.getElementById('portfolio');
                    if (portfolioElement && portfolioElement.value && !isValidUrl(portfolioElement.value)) {
                        showError('portfolio', 'Please enter a valid URL');
                        isValid = false;
                    }
                } else if (step === 2) {
                    // Validate skill details
                    const requiredFields = [
                        { id: 'skillLevel', message: 'Please select your skill level' },
                        { id: 'experience', message: 'Please select your experience' }
                    ];
                    
                    requiredFields.forEach(field => {
                        const element = document.getElementById(field.id);
                        const errorElement = document.getElementById(`${field.id}-error`);
                        
                        if (!element) return;
                        
                        if (!element.value) {
                            element.classList.add('has-error');
                            errorElement.textContent = field.message;
                            errorElement.style.display = 'block';
                            isValid = false;
                        } else {
                            element.classList.remove('has-error');
                            errorElement.style.display = 'none';
                        }
                    });
                    
                    // Validate at least one skill is selected
                    const skills = document.querySelectorAll('input[name="skills"]:checked');
                    const skillsError = document.getElementById('skills-error');
                    if (skills.length === 0) {
                        skillsError.style.display = 'block';
                        isValid = false;
                    } else {
                        skillsError.style.display = 'none';
                    }
                }
                
                return isValid;
            }
            
            function isValidUrl(string) {
                try {
                    new URL(string);
                    return true;
                } catch (_) {
                    return false;
                }
            }
            
            function showError(fieldId, message) {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(`${fieldId}-error`);
                
                if (field) field.classList.add('has-error');
                if (errorElement) {
                    errorElement.textContent = message;
                    errorElement.style.display = 'block';
                }
            }
            
            function clearFieldError(e) {
                const field = e.target;
                const fieldId = field.id;
                const errorElement = document.getElementById(`${fieldId}-error`);
                
                if (field) field.classList.remove('has-error');
                if (errorElement) errorElement.style.display = 'none';
            }
            
            function handleFileSelect(e) {
                const files = e.target.files || (e.dataTransfer && e.dataTransfer.files);
                if (!files || files.length === 0) return;
                
                // Reset file input to allow selecting the same file again
                if (fileInput) fileInput.value = '';
                
                // Process each file
                Array.from(files).forEach(file => {
                    // Validate file type and size
                    if (!file.type.startsWith('image/')) {
                        showError('photos', `${file.name} is not an image file`);
                        return;
                    }
                    
                    if (file.size > 10 * 1024 * 1024) { // 10MB
                        showError('photos', `${file.name} is too large (max 10MB)`);
                        return;
                    }
                    
                    // Add to uploaded files array if not already present
                    const fileExists = uploadedFiles.some(
                        existingFile => existingFile.name === file.name && existingFile.size === file.size
                    );
                    
                    if (!fileExists) {
                        uploadedFiles.push(file);
                        
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            createPreviewItem(file, e.target.result);
                        };
                        
                        reader.onerror = function(error) {
                            console.error(`Error reading file ${file.name}:`, error);
                        };
                        
                        reader.readAsDataURL(file);
                    }
                });
                
                // Show the preview container if we have files
                if (uploadedFiles.length > 0) {
                    previewContainer.classList.add('show');
                    hideError('photos');
                }
            }
            
            function createPreviewItem(file, dataUrl) {
                const previewItem = document.createElement('div');
                previewItem.className = 'preview-item';
                
                const img = document.createElement('img');
                img.src = dataUrl;
                img.alt = `Preview ${file.name}`;
                
                const removeBtn = document.createElement('button');
                removeBtn.className = 'remove-btn';
                removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                removeBtn.onclick = function(e) {
                    e.stopPropagation();
                    removePreviewItem(file, previewItem);
                };
                
                previewItem.appendChild(img);
                previewItem.appendChild(removeBtn);
                previewContainer.appendChild(previewItem);
            }
            
            function removePreviewItem(file, previewItem) {
                // Remove from uploaded files array
                const index = uploadedFiles.indexOf(file);
                if (index > -1) {
                    uploadedFiles.splice(index, 1);
                }
                
                // Remove preview element
                previewItem.remove();
                
                // Hide preview container if empty
                if (previewContainer.children.length === 0) {
                    previewContainer.classList.remove('show');
                }
            }
            
            function handleDragOver(e) {
                e.preventDefault();
                e.stopPropagation();
                dropzone.classList.add('dragover');
            }
            
            function handleDragLeave(e) {
                e.preventDefault();
                e.stopPropagation();
                dropzone.classList.remove('dragover');
            }
            
            function handleDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                dropzone.classList.remove('dragover');
                handleFileSelect(e);
            }
            
            function handleFormSubmit(e) {
                e.preventDefault();
                
                if (isSubmitting) return;
                
                // Validate final step
                if (uploadedFiles.length < 3) {
                    showError('photos', 'Please upload at least 3 photos');
                    scrollToActiveStep();
                    return;
                }
                
                // Validate all steps
                for (let i = 1; i <= totalSteps; i++) {
                    if (!validateStep(i)) {
                        currentStep = i;
                        updateStepIndicator();
                        scrollToActiveStep();
                        return;
                    }
                }
                
                // Prepare form data
                const formData = new FormData();
                
                // Add all form fields
                const formElements = form.elements;
                for (let i = 0; i < formElements.length; i++) {
                    const element = formElements[i];
                    if (element.name && element.type !== 'file') {
                        if (element.type === 'checkbox') {
                            if (element.checked) {
                                formData.append(element.name, element.value);
                            }
                        } else {
                            formData.append(element.name, element.value);
                        }
                    }
                }
                
                // Add uploaded files
                uploadedFiles.forEach((file, index) => {
                    formData.append(`photos[${index}]`, file);
                });
                
                // Show loading state
                isSubmitting = true;
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Submitting...';
                
                // In a real application, you would send the formData to your server here
                // For this example, we'll simulate a network request
                simulateFormSubmission(formData);
            }
            
            function simulateFormSubmission(formData) {
                console.log('Form data prepared:', formData);
                
                // Simulate network delay
                setTimeout(() => {
                    isSubmitting = false;
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Submit Application';
                    
                    // Show success message
                    const email = document.getElementById('email').value;
                    const fullName = document.getElementById('fullName').value;
                    
                    Swal.fire({
                        title: 'Application Submitted!',
                        html: `
                            <div class="text-left">
                                <p class="mb-4">Thank you, <strong>${fullName}</strong>!</p>
                                <p class="mb-4">Your photographer application has been successfully submitted.</p>
                                <p class="mb-2"><strong>What's next?</strong></p>
                                <ul class="list-disc pl-5 mb-4">
                                    <li>Our team will review your application within 3-5 business days</li>
                                    <li>You'll receive a confirmation email at <strong>${email}</strong></li>
                                    <li>We may contact you for additional information</li>
                                </ul>
                            </div>
                        `,
                        icon: 'success',
                        confirmButtonColor: '#FF6F00',
                        confirmButtonText: 'Got it!',
                        customClass: {
                            popup: 'text-left'
                        }
                    }).then(() => {
                        resetForm();
                    });
                }, 1500);
            }
            
            function resetForm() {
                // Reset form fields
                form.reset();
                
                // Reset current step
                currentStep = 1;
                updateStepIndicator();
                
                // Clear uploaded files
                uploadedFiles = [];
                previewContainer.innerHTML = '';
                previewContainer.classList.remove('show');
                
                // Reset character counters
                if (fullNameCounter) fullNameCounter.textContent = '0';
                if (bioCounter) bioCounter.textContent = '0';
                
                // Clear all error messages
                document.querySelectorAll('.error-message').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Clear all error borders
                document.querySelectorAll('.has-error').forEach(el => {
                    el.classList.remove('has-error');
                });
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        });
    </script>
    <script src="../_js/header.js" defer></script>
    <script src="../_js/footer.js" defer></script>
</body>
</html>